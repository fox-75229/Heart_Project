### ‎mainproject: Flask 專案介紹

本專案是一個使用 Flask 框架開發的 Web 應用程式，旨在提供一個心臟病預測的互動式平台。使用者可以透過網頁介面輸入相關健康數據，並取得基於機器學習模型的預測結果。

### 專案結構

專案的主要程式碼位於 `mainproject` 資料夾中，其結構如下：

-   **app.py**: Flask 應用程式的進入點，包含了所有的路由定義、請求處理和模型預測邏輯.
-   **data/**: 存放原始數據集，例如 `heart.csv`。
-   **static/**: 存放靜態檔案。
    -   **css/**: 存放 CSS 樣式表，用於定義網站的視覺外觀。
    -   **js/**: 存放 JavaScript 檔案，用於處理前端的互動邏輯。
-   **templates/**: 存放 HTML 模板檔案，用於渲染前端頁面。
### 環境設定與執行

1.  **安裝依賴**:
    本專案使用 `uv` 作為虛擬環境與套件管理工具。請先安裝 `uv`，接著在專案根目錄執行以下指令安裝 pyproject.toml 裡列出的所有所需的 Python 套件：
    ```bash
    uv sync
    ```
    此外，前端部分使用 Node.js 管理，請先安裝 Node.js，然後在 `mainproject` 目錄下執行：
    ```bash
    npm install
    ```

2.  **啟動應用程式**:
    在專案根目錄執行以下指令來啟動 Flask 開發伺服器：
    ```bash
    uv run python ./‎mainproject/app.py
    ```
    接著在瀏覽器中開啟 `http://127.0.0.1:5000` 即可看到應用程式首頁。

### 開發規範

-   **Python**:
    -   使用 `uv` 管理虛擬環境與依賴。
-   **前端**:
    -   HTML/CSS/JavaScript 分離。
-   **版本控制**:
    -   使用 Git 進行版本控制。
    -   Commit 訊息應清晰明瞭，描述該次提交的變更內容。

### 開發過程

1.  **數據探索與模型訓練**:
    -   我們首先對 `heart.csv` 數據集進行了探索性數據分析 (EDA)，以了解各個特徵的分佈與關聯性。
    -   接著，我們分別訓練了邏輯斯迴歸 (Logistic Regression) 和決策樹 (Decision Tree) 兩種模型。
    -   透過交叉驗證和指標評估 (如準確率、召回率、F1-score)，我們選擇了表現較好的模型進行部署。

2.  **後端開發**:
    -   使用 Flask 框架搭建 Web 伺服器。
    -   在 `app.py` 中定義了三個主要路由：
        -   `/`: 首頁。
        -   `/logistic`: 提供邏輯斯迴歸模型的預測介面。
        -   `/decision_tree`: 提供決策樹模型的預測介面。
    -   後端接收前端傳來的表單數據，將其轉換為模型所需的格式，並呼叫已訓練好的模型進行預測，最後將結果回傳給前端。

3.  **前端開發**:
    -   使用 HTML、CSS 和 JavaScript 打造使用者介面。
    -   `base.html` 作為基礎模板，定義了所有頁面共享的導覽列和頁尾。
    -   各個頁面 (`index.html`, `logistic.html`, `decision_tree.html`) 繼承自 `base.html`，並各自擁有獨特的內容。
    -   JavaScript 用於處理表單提交、非同步請求以及動態更新頁面內容，提供流暢的使用者體驗。

### 模型比較、差異及優缺點

本專案實作了兩種常見的分類模型：邏輯斯迴歸 (Logistic Regression) 和決策樹 (Decision Tree)。

| 特性 | 邏輯斯迴歸 (Logistic Regression) | 決策樹 (Decision Tree) |
| :--- | :--- | :--- |
| **模型類型** | 線性模型 | 非線性模型 |
| **基本原理** | 透過 Sigmoid 函數將線性迴歸的輸出轉換為 0 到 1 之間的機率值，並設定閾值進行分類。 | 透過樹狀結構，根據特徵值進行一系列的判斷，最終將樣本分到某個葉節點 (類別)。 |
| **可解釋性** | 高。可以透過係數 (coefficients) 明確了解每個特徵對於預測結果的影響方向和強度。 | 高。整個決策過程可以被視覺化，容易理解。 |
| **優點** | - 訓練速度快，計算成本低。<br>- 模型簡單，容易解釋。<br>- 輸出為機率，可以提供更多資訊。 | - 能夠處理非線性關係。<br>- 對特徵的縮放不敏感。<br>- 能夠處理數值型和類別型特徵。 |
| **缺點** | - 只能處理線性可分的數據。<br>- 對特徵間的複雜關係捕捉能力較弱。<br>- 需要手動進行特徵工程。 | - 容易過擬合 (Overfitting)，需要進行剪枝 (Pruning)。<br>- 對於數據中的微小變動很敏感，可能導致樹的結構差異很大。<br>- 在處理高維度數據時，表現可能不佳。 |
| **在本專案的應用** | 提供一個基準模型，其預測結果相對穩定且容易解釋，適合用於初步判斷。 | 能夠捕捉數據中更複雜的模式，可能在某些情況下提供更高的準確率，但需要注意過擬合的風險。 |
