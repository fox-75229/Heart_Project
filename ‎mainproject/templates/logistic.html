{% extends "base.html" %}

{% block title %}職能發展學院-邏輯迴歸{% endblock %}


{% block head %}
{{super()}}
<link rel="stylesheet" href="{{ url_for('static', filename='css/logistic.css') }}">
{% endblock %}

{% block content %}
<div class="logistic-container">
    <div class="page-header">
        <h1>邏輯迴歸 (Logistic Regression) </h1>
        <p class="subtitle">使用心臟衰竭資料集進行心臟病預測 </p>
    </div>


    <div class="info-card">
        <h3>關於邏輯迴歸</h3>
        <p>
            邏輯迴歸 (Logistic Regression) 是一種常見的分類模型，它透過數學函數來預測樣本屬於某類的機率。
        </p>
        <p>
            模型會在資料中找到一條「最佳分界線」，用來區分不同類別（例如：有無心臟病）。這條線代表模型學到的「決策邏輯」，能讓我們一眼看出模型如何分類。
        </p>
        <p class="highlight">
            🎯
            <strong>提示</strong>：下方圖表將展示模型如何以一條<strong>線性邊界</strong>區分「<strong>有病</strong>」與「<strong>沒病</strong>」，並可觀察模型做對與做錯的情形。
        </p>
    </div>
    


    <div class="legeng-info">
        <h4>圖例說明</h4>
        <ul>
            <li><span class="legeng-0-train"></span>無心臟病(訓練)</li>
            <li><span class="legeng-1-train"></span>有心臟病(訓練)</li>
            <li><span class="legeng-0-test"></span>無心臟病(測試)</li>
            <li><span class="legeng-1-test"></span>有心臟病(測試)</li>
        </ul>
        <p class="help-text">圖表背景 (紅/藍) 代表模型的決策區域。您可以縮放或懸停</p>
    </div>

    <div class="chart-container">
        <div id="plotly-chart" class="loading">
            <div class="loading-spinner"></div>
            <p class="loading-text">正在從伺服器載入並訓練模型...</p>
        </div>
    </div>

    <div class="metrics-container">
        <h3>模型評估指標</h3>
        <div class="metrics-grid">
            <div class="metrics-card">
                <h4>準確率</h4>
                <div id="metrics-accuracy" class="metric-value">--</div>
                <div class="metric-description">模型預測正確的比例</div>
            </div>
            <div class="metrics-card">
                <h4>精確率</h4>
                <div id="metrics-precision" class="metric-value">--</div>
                <div class="metric-description">預測為正樣本中實際為正的比例</div>
            </div>
            <div class="metrics-card">
                <h4>召回率</h4>
                <div id="metrics-recall" class="metric-value">--</div>
                <div class="metric-description">實際正樣本中被正確預測的比例</div>
            </div>
            <div class="metrics-card">
                <h4>F1 Score</h4>
                <div id="metrics-f1" class="metric-value">--</div>
                <div class="metric-description">精確率與召回率的綜合表現</div>
            </div>
            <div class="metrics-card">
                <h4>AUC 值</h4>
                <div id="metrics-auc" class="metric-value">--</div>
                <div class="metric-description">ROC 曲線下的面積，越接近1越好</div>
            </div>
        </div>
    </div>

    <div class="model-info">
        <h3>模型詳細資訊</h3>
        <div class="info-grid">
            <div class="info-item">
                <span class="info-label">資料集：</span>
                <span class="info-value" id="desc-dataset">--</span>
            </div>
            <div class="info-item">
                <span class="info-label">總樣本數：</span>
                <span class="info-value" id="desc-total-samples">--</span>
            </div>
            <div class="info-item">
                <span class="info-label">訓練集大小：</span>
                <span class="info-value" id="desc-train-size">--</span>
            </div>
            <div class="info-item">
                <span class="info-label">測試集大小：</span>
                <span class="info-value" id="desc-test-size">--</span>
            </div>
            <div class="info-item">
                <span class="info-label">預測目標：</span>
                <span class="info-value" id="desc-target">--</span>
            </div>
            <div class="info-item">
                <span class="info-label">使用特徵：</span>
                <span class="info-value" id="desc-features">--</span>
            </div>
        </div>
    </div>

</div>
{% endblock %}


{% block scripts %}
{{super()}}
<!-- <script src="https://cdn.plot.ly/plotly-latest.min.js"></script> -->
<script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
<script src="{{ url_for('static', filename='js/logistic.js') }}"></script>
{% endblock %}